{
  "$schema": "../workflow.schema.json",
  "id": "default",
  "description": "Default FABER workflow for software development - extends core with spec generation and implementation",
  "extends": "fractary-faber:core",
  "phases": {
    "frame": {
      "enabled": true,
      "pre_steps": [],
      "steps": [],
      "post_steps": []
    },
    "architect": {
      "enabled": true,
      "description": "Generate and refine technical specification from issue context",
      "pre_steps": [],
      "steps": [
        {
          "id": "generate-spec",
          "name": "Generate Specification",
          "description": "Create technical specification from issue context",
          "command": "fractary-spec:generate",
          "config": {
            "use_issue_context": true,
            "auto_detect_template": true
          }
        },
        {
          "id": "refine-spec",
          "name": "Refine Specification",
          "description": "Critically review spec and gather clarifications from user",
          "command": "fractary-spec:refine",
          "config": {
            "allow_iterative_rounds": true,
            "best_effort_on_no_answers": true
          },
          "arguments": {
            "work_id": "{work_id}"
          }
        }
      ],
      "post_steps": []
    },
    "build": {
      "enabled": true,
      "description": "Implement solution based on specification",
      "pre_steps": [],
      "steps": [
        {
          "id": "implement",
          "name": "Implement Solution",
          "description": "Implement based on specification following project patterns",
          "command": "fractary-faber:build",
          "config": {
            "use_spec": true,
            "post_progress_comments": true
          }
        }
      ],
      "post_steps": []
    },
    "evaluate": {
      "enabled": true,
      "pre_steps": [],
      "steps": [],
      "post_steps": []
    },
    "release": {
      "enabled": true,
      "pre_steps": [],
      "steps": [],
      "post_steps": []
    }
  },
  "autonomy": {
    "level": "guarded",
    "description": "Pauses before release for approval - recommended for production",
    "require_approval_for": ["release"]
  }
}
